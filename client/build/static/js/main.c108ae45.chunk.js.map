{"version":3,"sources":["context/index.js","components/SplashScreen/SplashScreen.js","screens/login/Login.js","components/Board/Board.js","components/CreateRoomDialog/CreateRoomDialog.js","components/store/useIndexDB.js","screens/Home/Home.js","utils/web.worker.js","screens/Room/Room.js","screens/Page404/Page404.js","App.js","index.js"],"names":["authApi","React","createContext","SplashScreen","useEffect","setTimeout","document","querySelector","style","display","className","name","type","animation","color","size","Login","useState","userName","setUserName","dialogBool","setDialogBool","Auth","useContext","history","useHistory","auth","fontSize","alignItems","marginLeft","autoFocus","onChange","e","target","value","placeholder","maxLength","width","onClick","preventDefault","length","localStorage","setItem","JSON","stringify","trim","avatarSeed","Math","random","setAuth","push","Dialog","open","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","Board","props","aria-label","roomName","CreateRoomDialog","bool","onSubmit","createRoom","required","setRoomName","db","Dexie","version","stores","rooms","catch","err","console","log","Home","getItem","createRoomBool","setcreateRoomBool","addItemToDb","event","a","add","roomId","uuid","v4","roomData","allItems","useLiveQuery","toArray","roomOnClose","delete","roomOnClick","itemData","map","Worker_fn","Worker","__webpack_public_path__","useStyles","makeStyles","table","minWidth","Room","classes","useParams","setRoomData","user","parse","peers","setPeers","peerRef","useRef","socketRef","otherUser","sendChannel","receiveBuffer","metaData","setCurrentFile","userAdded","setUserAdded","roomArr","copyHandler","setcopyhandler","callUser","userID","current","createPeer","createDataChannel","onmessage","handleReceiveMessage","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","handleICECandidateEvent","onnegotiationneeded","createOffer","then","offer","setLocalDescription","payload","caller","sdp","localDescription","emit","handleNegotiationNeededEvent","handleOffer","incoming","ondatachannel","channel","desc","RTCSessionDescription","setRemoteDescription","createAnswer","answer","handleAnswer","message","candidate","handleNewICECandidateMsg","RTCIceCandidate","addIceCandidate","formatBytes","bytes","decimals","k","dm","sizes","i","floor","parseFloat","pow","toFixed","data","toString","substring","file","Blob","download","metaObj","DataArr","filter","fileName","fileSize","operation","prev","update","socketUrl","io","connect","roomID","on","oldArray","socketID","socketId","get","roomItem","arr","close","avatarItem","Avatar","to","flip","flexDirection","marginBottom","copy","window","location","href","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","row","index","scope","newItems","disabled","title","files","worker","postMessage","addEventListener","send","terminate","includes","readyState","alert","Page404","src","App","Provider","path","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c108ae45.chunk.js","sourcesContent":["import React from \"react\";\nconst authApi = React.createContext();\nexport default authApi;\n","import React, { useEffect } from \"react\";\nimport \"./SplashScreen.css\";\nimport \"boxicons\";\n\nfunction SplashScreen() {\n  useEffect(() => {\n    setTimeout(() => {\n      document.querySelector(\".splashScreen\").style.display = \"none\";\n    }, 1000);\n  }, []);\n  return (\n    <div className='splashScreen'>\n      <box-icon name='javascript' type='logo' animation='tada' color='#ffffff' size='100px'></box-icon>\n    </div>\n  );\n}\n\nexport default SplashScreen;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport \"./Login.css\";\nimport \"boxicons\";\nimport { useHistory } from \"react-router-dom\";\nimport authApi from \"../../context/index\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport SplashScreen from \"../../components/SplashScreen/SplashScreen\";\n\nfunction Login() {\n  const [userName, setUserName] = useState(\"\");\n  const [dialogBool, setDialogBool] = useState(false);\n  const Auth = useContext(authApi);\n  const history = useHistory();\n\n  const signIn = (e) => {\n    e.preventDefault();\n    if (userName.length > 0) {\n      localStorage.setItem(\n        \"user\",\n        JSON.stringify({\n          userName: userName.trim(),\n          avatarSeed: Math.random(),\n        })\n      );\n      Auth.setAuth(true);\n      history.push(\"/\");\n    } else {\n      setDialogBool(true);\n    }\n  };\n  const handleClose = () => {\n    setDialogBool(false);\n  };\n  return (\n    <div className='login'>\n      {!Auth.auth ? <SplashScreen /> : \"\"}\n      <div className='loginContainer'>\n        {/* <img className='logologin' src='./logo.svg' alt='ByteBook Logo' /> */}\n        <div className='typewriter'>\n          <h1>\n            Hi,\n            <span className='typeweritter__span' style={{ fontSize: \"20px\" }}>\n              Welcome to Bytebook\n            </span>\n          </h1>\n        </div>\n        <p className='textFadeIn'>A new way to share files.</p>\n        <form className='loginForm'>\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            <box-icon type='solid' name='terminal' color='white' size='20px'></box-icon>\n            <p style={{ marginLeft: \"10px\" }}>Enter your name to get started</p>\n          </div>\n\n          <input autoFocus className='loginContainer__input' onChange={(e) => setUserName(e.target.value)} placeholder='Username' type='text' value={userName} maxLength='50' style={{ width: \"100%\" }}></input>\n          <div className='loginContainer_bottom'>\n            <button className='signinButton' onClick={signIn}>\n              Get Started\n            </button>\n          </div>\n        </form>\n        <div className='login__footer'>\n          <p>© 2021 - present Bytebook.co Released under the MIT License</p>\n        </div>\n      </div>\n      <Dialog open={dialogBool} onClose={handleClose} aria-labelledby='alert-dialog-title' aria-describedby='alert-dialog-description'>\n        <DialogTitle id='alert-dialog-title'>{\"Error type: Name\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id='alert-dialog-description'>Username cannot be empty. Please enter a valid username to get started.</DialogContentText>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport \"./Board.css\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nfunction Board(props) {\n  return (\n    <div className='board'>\n      <div className='boardTop'>\n        {/* <div style={{ flex: 1 }}></div> */}\n        <button value={props.id} className='board_Close' aria-label='delete' onClick={props.onClose}>\n          <CloseIcon className='board_CloseIcon' />\n        </button>\n      </div>\n      <div className='boardBotton' id={props.id + \"/\" + props.roomName} onClick={props.onClick}>\n        <h3 id={props.id + \"/\" + props.roomName}>{props.roomName}</h3>\n      </div>\n    </div>\n  );\n}\n\nexport default Board;\n","import React from \"react\";\nimport \"./CreateRoomDialog.css\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\nfunction CreateRoomDialog(props) {\n  if (props.bool) {\n    return (\n      <div className='createRoomDialog'>\n        <form className='createRoomDialog__container' onSubmit={props.createRoom}>\n          <CloseIcon onClick={props.onClose} className='createRoomDialog__close' />\n          <input autoFocus placeholder='Room name' required maxLength='20' value={props.roomName} onChange={(e) => props.setRoomName(e.target.value)}></input>\n          <button type='submit' onClick={props.createRoom}>\n            Create Room\n          </button>\n          <p>Last step to share your files!</p>\n        </form>\n      </div>\n    );\n  } else {\n    return \"\";\n  }\n}\n\nexport default CreateRoomDialog;\n","import Dexie from \"dexie\";\n\nconst db = new Dexie(\"bytebook\");\n//crete new database store\ndb.version(1).stores({ rooms: \"roomId,roomName,roomData\" });\n\ndb.open().catch((err) => {\n  console.log(err);\n});\n\nexport default db;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport \"./Home.css\";\nimport authApi from \"../../context/index\";\nimport { useHistory, Switch, Route } from \"react-router-dom\";\nimport SplashScreen from \"../../components/SplashScreen/SplashScreen\";\nimport Board from \"../../components/Board/Board\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport CreateRoomDialog from \"../../components/CreateRoomDialog/CreateRoomDialog\";\nimport { useLiveQuery } from \"dexie-react-hooks\";\nimport uuid from \"uuid\";\nimport db from \"../../components/store/useIndexDB\";\n\nfunction Home() {\n  const history = useHistory();\n  const Auth = useContext(authApi);\n  const user = localStorage.getItem(\"user\");\n  const [createRoomBool, setcreateRoomBool] = useState(false);\n  const [roomName, setRoomName] = useState(\"\");\n\n  // useEffect(() => {\n  //   if (!Auth.auth) history.push(\"/\");\n  // }, []);\n\n  const addItemToDb = async (event) => {\n    if (roomName.length == 0) return;\n    event.preventDefault();\n    await db.rooms.add({\n      roomId: uuid.v4(),\n      roomName: roomName,\n      roomData: [],\n    });\n    setcreateRoomBool(false);\n    setRoomName(\"\");\n  };\n  const allItems = useLiveQuery(() => db.rooms.toArray(), []);\n  if (!allItems) return null;\n\n  const roomOnClose = async (e) => {\n    //console.log(e.target);\n    await db.rooms.delete(e.target.value);\n  };\n\n  const roomOnClick = (e) => {\n    // console.log(e.target);\n    history.push(`/room/${e.target.id}`);\n  };\n\n  const itemData = allItems.map(({ roomName, roomId }) => <Board key={roomId} roomName={roomName} id={roomId} onClose={roomOnClose} onClick={roomOnClick} />);\n\n  return (\n    <div className='home'>\n      {Auth.auth ? <SplashScreen /> : \"\"}\n      <h1>Recent Rooms</h1>\n      {allItems.length > 0 ? (\n        <div className='homeContainer__rooms'>{itemData}</div>\n      ) : (\n        <div className='homeContainer__roomsEmpty'>\n          <p>Start by joining a room using the + button</p>\n          <p>Devices must join same room to share files with each other</p>\n        </div>\n      )}\n\n      <button className='home_CreatButton' onClick={() => setcreateRoomBool(true)}>\n        <AddIcon />\n        <h2>New Room</h2>\n      </button>\n\n      <CreateRoomDialog bool={createRoomBool} onClose={() => setcreateRoomBool(false)} createRoom={addItemToDb} setRoomName={setRoomName} roomName={roomName} />\n    </div>\n  );\n}\n\nexport default Home;\n","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/web.worker.ee21e614.worker.js\");\n}\n","import React, { useRef, useEffect, useContext, useState } from \"react\";\nimport authApi from \"../../context/index\";\nimport { useParams, Link } from \"react-router-dom\";\nimport \"./Room.css\";\nimport db from \"../../components/store/useIndexDB\";\n\n//Library imports\nimport io from \"socket.io-client\";\nimport uuid from \"uuid\";\nimport copy from \"copy-to-clipboard\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport download from \"downloadjs\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Avatar } from \"@material-ui/core\";\nimport SplashScreen from \"../../components/SplashScreen/SplashScreen\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport \"boxicons\";\nimport Worker from \"../../utils/web.worker\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nfunction Room(props) {\n  const classes = useStyles();\n  const Auth = useContext(authApi);\n  let { roomId } = useParams();\n  let { roomName } = useParams();\n  const [roomData, setRoomData] = useState([]);\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n\n  const [peers, setPeers] = useState([]);\n  const peerRef = useRef();\n  const socketRef = useRef();\n  const otherUser = useRef();\n  const sendChannel = useRef();\n  // const [file, setFile] = useState([]);\n  let receiveBuffer = useRef([]);\n  const [url, setURL] = useState(\"\");\n  let metaData = useRef();\n  const [currentFile, setCurrentFile] = useState([]);\n  const [userAdded, setUserAdded] = useState(true);\n  const roomArr = useRef();\n  const [copyHandler, setcopyhandler] = useState(true);\n\n  useEffect(async () => {\n    const socketUrl = \"wss://p2p.bytebook.co:9000\";\n    console.log(\"Socket URL : \", socketUrl);\n    socketRef.current = io.connect(socketUrl);\n    socketRef.current.emit(\"join room\", {\n      userName: user.userName,\n      roomID: roomId,\n    });\n\n    socketRef.current.on(\"get socketID\", (data) => {\n      console.log(\"get socketID\", data);\n      setPeers((oldArray) => [\n        {\n          userName: data.userName,\n          socketID: data.socketID,\n        },\n      ]);\n    });\n\n    socketRef.current.on(\"user joined\", (data) => {\n      otherUser.current = data.socketID;\n      console.log(\"User Joined\", data.socketID);\n      setPeers((oldArray) => [...oldArray, data]);\n    });\n\n    socketRef.current.on(\"other user\", (data) => {\n      callUser(data.socketID);\n      otherUser.current = data.socketID;\n      console.log(\"Other user\", data.socketID);\n      setPeers((oldArray) => [...oldArray, data]);\n    });\n\n    socketRef.current.on(\"offer\", handleOffer);\n\n    socketRef.current.on(\"answer\", handleAnswer);\n\n    socketRef.current.on(\"user left\", (socketId) => {\n      setPeers((oldArray) => oldArray.filter((data) => data.socketID !== socketId));\n      console.log(\"User left\", socketId);\n    });\n\n    socketRef.current.on(\"ice-candidate\", handleNewICECandidateMsg);\n\n    const roomItem = await db.rooms.get({ roomId: roomId });\n    if (!roomItem) {\n      await db.rooms.add({\n        roomId: roomId,\n        roomName: roomName,\n        roomData: [],\n      });\n      setRoomData((arr) => []);\n      roomArr.current = [];\n    } else {\n      setRoomData((arr) => roomItem.roomData);\n      roomArr.current = roomItem.roomData;\n    }\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      console.log(\"componentWillUnmount\");\n      if (socketRef.current) {\n        socketRef.current.close();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    console.log(peers);\n    if (peers.length == 1) {\n      setUserAdded(true);\n    } else {\n      setUserAdded(false);\n    }\n  }, [peers]);\n\n  function callUser(userID) {\n    peerRef.current = createPeer(userID);\n    sendChannel.current = peerRef.current.createDataChannel(\"sendChannel\");\n    //sendChannel.current.binaryType = 'arraybuffer';\n    sendChannel.current.onmessage = handleReceiveMessage;\n  }\n\n  function createPeer(userID) {\n    const peer = new RTCPeerConnection({\n      iceServers: [\n        {\n          urls: \"stun:stun.l.google.com:19302\",\n        },\n        {\n          urls: \"turn:numb.viagenie.ca\",\n          credential: \"test1234\",\n          username: \"saivishwak40@gmail.com\",\n        },\n      ],\n    });\n\n    peer.onicecandidate = handleICECandidateEvent;\n    peer.onnegotiationneeded = () => handleNegotiationNeededEvent(userID);\n\n    return peer;\n  }\n\n  function handleNegotiationNeededEvent(userID) {\n    peerRef.current\n      .createOffer()\n      .then((offer) => {\n        return peerRef.current.setLocalDescription(offer);\n      })\n      .then(() => {\n        const payload = {\n          target: userID,\n          caller: socketRef.current.id,\n          sdp: peerRef.current.localDescription,\n        };\n        socketRef.current.emit(\"offer\", payload);\n      })\n      .catch((e) => console.log(e));\n  }\n  function handleOffer(incoming) {\n    peerRef.current = createPeer();\n    peerRef.current.ondatachannel = (event) => {\n      sendChannel.current = event.channel;\n      sendChannel.current.onmessage = handleReceiveMessage;\n    };\n    const desc = new RTCSessionDescription(incoming.sdp);\n    peerRef.current\n      .setRemoteDescription(desc)\n      .then(() => {})\n      .then(() => {\n        return peerRef.current.createAnswer();\n      })\n      .then((answer) => {\n        return peerRef.current.setLocalDescription(answer);\n      })\n      .then(() => {\n        const payload = {\n          target: incoming.caller,\n          caller: socketRef.current.id,\n          sdp: peerRef.current.localDescription,\n        };\n        socketRef.current.emit(\"answer\", payload);\n      });\n  }\n\n  function handleAnswer(message) {\n    const desc = new RTCSessionDescription(message.sdp);\n    peerRef.current.setRemoteDescription(desc).catch((e) => console.log(e));\n  }\n\n  function handleICECandidateEvent(e) {\n    if (e.candidate) {\n      const payload = {\n        target: otherUser.current,\n        candidate: e.candidate,\n      };\n      socketRef.current.emit(\"ice-candidate\", payload);\n    }\n  }\n\n  function handleNewICECandidateMsg(incoming) {\n    const candidate = new RTCIceCandidate(incoming);\n\n    peerRef.current.addIceCandidate(candidate).catch((e) => console.log(e));\n  }\n\n  function formatBytes(bytes, decimals = 2) {\n    if (bytes === 0) return \"0 Bytes\";\n\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  }\n\n  function sendFile(e) {\n    try {\n      let files = e.target.files;\n      let metaObj;\n      const worker = new Worker();\n      worker.postMessage({\n        files: files,\n      });\n      worker.addEventListener(\"message\", (event) => {\n        if (event.data == \"Done\") {\n          sendChannel.current.send(`Done-${JSON.stringify(metaObj)}`);\n          setCurrentFile((prev) => [...prev, metaObj]);\n          const DataArr = roomData.filter((data) => data.id !== metaObj.id);\n          DataArr.push({ id: metaObj.id, fileName: metaObj.name, fileSize: formatBytes(metaObj.size), operation: \"Sent\" });\n          setRoomData((prev) => DataArr);\n          roomArr.current.push({ id: metaObj.id, fileName: metaObj.name, fileSize: formatBytes(metaObj.size), operation: \"Sent\" });\n          db.rooms.update({ roomId: roomId }, { roomData: roomArr.current });\n          worker.terminate();\n          return;\n        }\n        if (typeof event.data == \"string\") {\n          if (event.data.includes(\"Meta-\")) {\n            metaObj = JSON.parse(event.data.substring(5, event.data.length));\n            setRoomData((prev) => [...prev, { id: metaObj.id, fileName: metaObj.name, fileSize: formatBytes(metaObj.size), operation: \"Sending\" }]);\n            sendChannel.current.send(`Meta-${event.data.substring(5, event.data.length)}`);\n          }\n          console.log(event.data);\n        } else {\n          // sendChannel.current.readyState\n          if (sendChannel.current.readyState == \"open\") {\n            sendChannel.current.send(event.data);\n          } else {\n            worker.postMessage(\"error\");\n            return alert(\"something went wrong\");\n          }\n        }\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  function handleReceiveMessage(e) {\n    if (e.data.toString().substring(0, 4) == \"Done\") {\n      const file = new Blob(receiveBuffer.current);\n      console.log(\"file\", file, \"meta\", metaData.current);\n      download(file, metaData.current.name, metaData.current.type);\n      const metaObj = metaData.current;\n      const DataArr = roomData.filter((data) => data.id !== metaObj.id);\n      DataArr.push({ id: metaObj.id, fileName: metaObj.name, fileSize: formatBytes(metaObj.size), operation: \"Received\" });\n      setRoomData((prev) => DataArr);\n      roomArr.current.push({ id: metaObj.id, fileName: metaObj.name, fileSize: formatBytes(metaObj.size), operation: \"Received\" });\n      db.rooms.update({ roomId: roomId }, { roomData: roomArr.current });\n      // setRoomData((prev) => [...prev, { id: metaObj.id, fileName: metaObj.name, fileSize: formatBytes(metaObj.size), operation: \"Received\" }]);\n      // roomArr.current.push({ id: metaObj.id, fileName: metaObj.name, fileSize: formatBytes(metaObj.size), operation: \"Received\" });\n      // db.rooms.update({ roomId: roomId }, { roomData: roomArr.current });\n      metaData.current = {};\n      receiveBuffer.current = [];\n      //setURL(() => URL.createObjectURL(file));\n    } else if (e.data.toString().substring(0, 4) == \"Meta\") {\n      metaData.current = JSON.parse(e.data.toString().substring(5, e.data.toString().length));\n      setRoomData((prev) => [...prev, { id: metaData.current.id, fileName: metaData.current.name, fileSize: formatBytes(metaData.current.size), operation: \"Receiving\" }]);\n      console.log(metaData.current, \"meta\");\n    } else {\n      console.log(\"recieving data\");\n      receiveBuffer.current.push(e.data);\n    }\n    //setMessages(messages => [...messages, {yours: false, value: e.data}]);\n    //setimageSource(`data:image/gif;base64,${e.data}`);\n  }\n\n  const handelCopy = (e) => {\n    e.preventDefault();\n    copy(window.location.href);\n    setcopyhandler(false);\n    setTimeout(() => {\n      setcopyhandler(true);\n    }, [2000]);\n  };\n  const handleClose = () => {\n    setcopyhandler(true);\n  };\n\n  const avatarItem = peers.map(({ userName, socketID }) => (\n    <div className='roomMiddleContainerEach'>\n      <Avatar>{userName.substring(0, 1)}</Avatar>\n      <p>{userName}</p>\n    </div>\n  ));\n\n  return (\n    <div className='room'>\n      <SplashScreen />\n      <div className='roomTopContainer'>\n        <Link to='/'>\n          <box-icon name='arrow-back' flip='vertical' color='#636979' size='25px'></box-icon>\n        </Link>\n        <div style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\" }}>\n          <h3 style={{ marginBottom: \"5px\" }}>{roomName}</h3>\n          <p style={{ color: \"#636979\" }}>Room Name</p>\n        </div>\n        <box-icon name='share-alt' type='solid' flip='vertical' color='#636979' size='25px' aria-label='Click to copy url' onClick={handelCopy}></box-icon>\n      </div>\n      <div className='roomMiddleContainer'>\n        <div className='roomMiddleContainerAvatars'>{avatarItem}</div>\n        {peers.length > 1 ? \"\" : <p>No one is in the room. Share your url to start</p>}\n      </div>\n      <div className='roomBottomContainer'>\n        <TableContainer component={Paper}>\n          <Table className={classes.table} aria-label='table'>\n            <TableHead>\n              <TableRow>\n                <TableCell>#</TableCell>\n                <TableCell align='right'>ID</TableCell>\n                <TableCell align='right'>File Name</TableCell>\n                <TableCell align='right'>File Size</TableCell>\n                <TableCell align='right'>Status</TableCell>\n                <TableCell align='right'>Delete</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {roomData.map((row, index) => (\n                <TableRow key={index}>\n                  <TableCell component='th' scope='row'>\n                    {index + 1}\n                  </TableCell>\n                  <TableCell align='right'>{row.id}</TableCell>\n                  <TableCell align='right'>{row.fileName}</TableCell>\n                  <TableCell align='right'>{row.fileSize}</TableCell>\n                  <TableCell align='right'>{row.operation}</TableCell>\n                  <TableCell align='right'>\n                    <DeleteIcon\n                      className='roomTalbeDelete'\n                      onClick={(e) => {\n                        const newItems = roomData.filter((data) => data.id != row.id);\n                        db.rooms.update(roomId, {\n                          roomData: newItems,\n                        });\n                        setRoomData((arr) => newItems);\n                      }}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n      {/* Add multiple to the input select multiple files  */}\n      <input className={!userAdded ? \"room_sendFile\" : \"room_sendFile buttonDisabled\"} disabled={userAdded} type='file' title='Select File' onChange={sendFile} />\n\n      {/* <FileShareDialog /> */}\n      <Dialog open={!copyHandler} onClose={handleClose} aria-labelledby='alert-dialog-title' aria-describedby='alert-dialog-description'>\n        <DialogTitle id='alert-dialog-title'>{\"Clipboard\"}</DialogTitle>\n        <DialogContent>\n          <DialogContentText id='alert-dialog-description'>Url copied to your clipboard. Share this with peer to start sharing</DialogContentText>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default Room;\n","import React from \"react\";\nimport \"./Page404.css\";\n\nfunction Page404() {\n  return (\n    <div className='page404'>\n      <div className='page404_container'>\n        <h1>\n          404<span> Error</span>\n        </h1>\n        <img src='/page404.png' width='400px' />\n      </div>\n    </div>\n  );\n}\n\nexport default Page404;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport authApi from \"./context/index\";\n\n//Screens Import\nimport Login from \"./screens/login/Login\";\nimport Home from \"./screens/Home/Home\";\nimport Room from \"./screens/Room/Room\";\nimport Page404 from \"./screens/Page404/Page404\";\n\nfunction App() {\n  const [auth, setAuth] = useState(false);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"user\")) {\n      setAuth(true);\n    }\n  }, []);\n  return (\n    <div className='app'>\n      <authApi.Provider value={{ auth, setAuth }}>\n        {!auth ? (\n          <Login />\n        ) : (\n          <Router>\n            <Switch>\n              <Route path='/room/:roomId/:roomName'>\n                <Room />\n              </Route>\n              <Route exact path='/'>\n                <Home />\n              </Route>\n              <Route path='*' component={Page404} />\n            </Switch>\n          </Router>\n        )}\n      </authApi.Provider>\n    </div>\n  );\n}\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}